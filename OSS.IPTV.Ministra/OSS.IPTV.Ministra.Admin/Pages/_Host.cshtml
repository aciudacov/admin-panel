@page "/"
@namespace OSS.IPTV.Ministra.Admin.Pages
@using System.Security.Claims
@using OSS.IPTV.Ministra.Admin.Services.AppUser
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    Layout = "_Layout";
    var principal = HttpContext.User ?? new ClaimsPrincipal();
    var user = AppUser.Create(principal);
    var state = new AppState
    {
        AppUser = user,
    };
}

<component type="typeof(App)" render-mode="ServerPrerendered" param-AppState="state"/>